import{a as ns,R as ee,r as k,j as O}from"./index-DBYn696Y.js";import{l as rs,G as os,n as it}from"./global-properties-D6YzSiAV.js";var as=ns();function us(t,e,i){return Math.max(e,Math.min(t,i))}const T={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Ve(t,e,i){return e===0||Math.abs(e)===1/0?Math.pow(t,i*5):t*e*i/(e+i*t)}function je(t,e,i,s=.15){return s===0?us(t,e,i):t<e?-Ve(e-t,i-e,s)+e:t>i?+Ve(t-i,i-e,s)+i:t}function cs(t,[e,i],[s,n]){const[[r,o],[a,f]]=t;return[je(e,r,o,s),je(i,a,f,n)]}function ls(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(t){var e=ls(t,"string");return typeof e=="symbol"?e:String(e)}function C(t,e,i){return e=fs(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,s)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Fe(Object(i),!0).forEach(function(s){C(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fe(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}const gi={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Le(t){return t?t[0].toUpperCase()+t.slice(1):""}const ds=["enter","leave"];function hs(t=!1,e){return t&&!ds.includes(e)}function ps(t,e="",i=!1){const s=gi[t],n=s&&s[e]||e;return"on"+Le(t)+Le(n)+(hs(i,n)?"Capture":"")}const ms=["gotpointercapture","lostpointercapture"];function gs(t){let e=t.substring(2).toLowerCase();const i=!!~e.indexOf("passive");i&&(e=e.replace("passive",""));const s=ms.includes(e)?"capturecapture":"capture",n=!!~e.indexOf(s);return n&&(e=e.replace("capture","")),{device:e,capture:n,passive:i}}function vs(t,e=""){const i=gi[t],s=i&&i[e]||e;return t+s}function Kt(t){return"touches"in t}function vi(t){return Kt(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function ys(t){return Array.from(t.touches).filter(e=>{var i,s;return e.target===t.currentTarget||((i=t.currentTarget)===null||i===void 0||(s=i.contains)===null||s===void 0?void 0:s.call(i,e.target))})}function _s(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function yi(t){return Kt(t)?_s(t)[0]:t}function bs(t){return ys(t).map(e=>e.identifier)}function ie(t){const e=yi(t);return Kt(t)?e.identifier:e.pointerId}function Me(t){const e=yi(t);return[e.clientX,e.clientY]}function ws(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:i,altKey:s,metaKey:n,ctrlKey:r}=t;Object.assign(e,{shiftKey:i,altKey:s,metaKey:n,ctrlKey:r})}return e}function Ut(t,...e){return typeof t=="function"?t(...e):t}function Ss(){}function xs(...t){return t.length===0?Ss:t.length===1?t[0]:function(){let e;for(const i of t)e=i.apply(this,arguments)||e;return e}}function $e(t,e){return Object.assign({},e,t||{})}const ks=32;class As{constructor(e,i,s){this.ctrl=e,this.args=i,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:i,ingKey:s,args:n}=this;i[s]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const i=this.state,s=this.config;i._active||(this.reset(),this.computeInitial(),i._active=!0,i.target=e.target,i.currentTarget=e.currentTarget,i.lastOffset=s.from?Ut(s.from,i):i.offset,i.offset=i.lastOffset,i.startTime=i.timeStamp=e.timeStamp)}computeValues(e){const i=this.state;i._values=e,i.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:i,config:s,shared:n}=this;i.args=this.args;let r=0;if(e&&(i.event=e,s.preventDefault&&e.cancelable&&i.event.preventDefault(),i.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,ws(e)),n.down=n.pressed=n.buttons%2===1||n.touches>0,r=e.timeStamp-i.timeStamp,i.timeStamp=e.timeStamp,i.elapsedTime=i.timeStamp-i.startTime),i._active){const E=i._delta.map(Math.abs);T.addTo(i._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=i._movement,[f,u]=s.threshold,{_step:d,values:l}=i;if(s.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=f&&l[0]),d[1]===!1&&(d[1]=Math.abs(a)>=u&&l[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=f&&Math.sign(o)*f),d[1]===!1&&(d[1]=Math.abs(a)>=u&&Math.sign(a)*u)),i.intentional=d[0]!==!1||d[1]!==!1,!i.intentional)return;const h=[0,0];if(s.hasCustomTransform){const[E,I]=l;h[0]=d[0]!==!1?E-d[0]:0,h[1]=d[1]!==!1?I-d[1]:0}else h[0]=d[0]!==!1?o-d[0]:0,h[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!i._blocked&&this.restrictToAxis(h);const m=i.offset,y=i._active&&!i._blocked||i.active;y&&(i.first=i._active&&!i.active,i.last=!i._active&&i.active,i.active=n[this.ingKey]=i._active,e&&(i.first&&("bounds"in s&&(i._bounds=Ut(s.bounds,i)),this.setup&&this.setup()),i.movement=h,this.computeOffset()));const[p,v]=i.offset,[[g,w],[_,x]]=i._bounds;i.overflow=[p<g?-1:p>w?1:0,v<_?-1:v>x?1:0],i._movementBound[0]=i.overflow[0]?i._movementBound[0]===!1?i._movement[0]:i._movementBound[0]:!1,i._movementBound[1]=i.overflow[1]?i._movementBound[1]===!1?i._movement[1]:i._movementBound[1]:!1;const P=i._active?s.rubberband||[0,0]:[0,0];if(i.offset=cs(i._bounds,i.offset,P),i.delta=T.sub(i.offset,m),this.computeMovement(),y&&(!i.last||r>ks)){i.delta=T.sub(i.offset,m);const E=i.delta.map(Math.abs);T.addTo(i.distance,E),i.direction=i.delta.map(Math.sign),i._direction=i._delta.map(Math.sign),!i.first&&r>0&&(i.velocity=[E[0]/r,E[1]/r],i.timeDelta=r)}}emit(){const e=this.state,i=this.shared,s=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!s.triggerAllEvents)return;const n=this.handler(A(A(A({},i),e),{},{[this.aliasKey]:e.values}));n!==void 0&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Ps([t,e],i){const s=Math.abs(t),n=Math.abs(e);if(s>n&&s>i)return"x";if(n>s&&n>i)return"y"}class Ts extends As{constructor(...e){super(...e),C(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=T.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=T.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const i=this.state,s=this.config;if(!i.axis&&e){const n=typeof s.axisThreshold=="object"?s.axisThreshold[vi(e)]:s.axisThreshold;i.axis=Ps(i._movement,n)}i._blocked=(s.lockDirection||!!s.axis)&&!i.axis||!!s.axis&&s.axis!==i.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Es=t=>t,Ue=.15,_i={enabled(t=!0){return t},eventOptions(t,e,i){return A(A({},i.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Ue,Ue];case!1:return[0,0];default:return T.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return T.toVector(t)},transform(t,e,i){const s=t||i.shared.transform;return this.hasCustomTransform=!!s,s||Es},threshold(t){return T.toVector(t,0)}},Is=0,Tt=A(A({},_i),{},{axis(t,e,{axis:i}){if(this.lockDirection=i==="lock",!this.lockDirection)return i},axisThreshold(t=Is){return t},bounds(t={}){if(typeof t=="function")return r=>Tt.bounds(t(r));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:i=1/0,top:s=-1/0,bottom:n=1/0}=t;return[[e,i],[s,n]]}}),Ne={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Cs extends Ts{constructor(...e){super(...e),C(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const i=e._bounds.getBoundingClientRect(),s=e.currentTarget.getBoundingClientRect(),n={left:i.left-s.left+e.offset[0],right:i.right-s.right+e.offset[0],top:i.top-s.top+e.offset[1],bottom:i.bottom-s.bottom+e.offset[1]};e._bounds=Tt.bounds(n)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const i=this.config,s=this.state;if(e.buttons!=null&&(Array.isArray(i.pointerButtons)?!i.pointerButtons.includes(e.buttons):i.pointerButtons!==-1&&i.pointerButtons!==e.buttons))return;const n=this.ctrl.setEventIds(e);i.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(n&&n.size>1&&s._pointerActive)&&(this.start(e),this.setupPointer(e),s._pointerId=ie(e),s._pointerActive=!0,this.computeValues(Me(e)),this.computeInitial(),i.preventScrollAxis&&vi(e)!=="mouse"?(s._active=!1,this.setupScrollPrevention(e)):i.delay>0?(this.setupDelayTrigger(e),i.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const i=this.state;i._active=!0,i._preventScroll=!0,i._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const i=this.state,s=this.config;if(!i._pointerActive)return;const n=ie(e);if(i._pointerId!==void 0&&n!==i._pointerId)return;const r=Me(e);if(document.pointerLockElement===e.target?i._delta=[e.movementX,e.movementY]:(i._delta=T.sub(r,i._values),this.computeValues(r)),T.addTo(i._movement,i._delta),this.compute(e),i._delayed&&i.intentional){this.timeoutStore.remove("dragDelay"),i.active=!1,this.startPointerDrag(e);return}if(s.preventScrollAxis&&!i._preventScroll)if(i.axis)if(i.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){i._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const i=this.state,s=this.config;if(!i._active||!i._pointerActive)return;const n=ie(e);if(i._pointerId!==void 0&&n!==i._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[r,o]=i._distance;if(i.tap=r<=s.tapsThreshold&&o<=s.tapsThreshold,i.tap&&s.filterTaps)i._force=!0;else{const[a,f]=i._delta,[u,d]=i._movement,[l,h]=s.swipe.velocity,[m,y]=s.swipe.distance,p=s.swipe.duration;if(i.elapsedTime<p){const v=Math.abs(a/i.timeDelta),g=Math.abs(f/i.timeDelta);v>l&&Math.abs(u)>m&&(i.swipe[0]=Math.sign(a)),g>h&&Math.abs(d)>y&&(i.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const i=this.config,s=i.device;i.pointerLock&&e.currentTarget.requestPointerLock(),i.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Rs(e);const i=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",i),this.eventStore.add(this.sharedConfig.window,"touch","cancel",i),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const i=Ne[e.key];if(i){const s=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),s._delta=i(this.config.keyboardDisplacement,n),s._keyboardActive=!0,T.addTo(s._movement,s._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Ne&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const i=this.config.device;e(i,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(i,"change",this.pointerMove.bind(this)),e(i,"end",this.pointerUp.bind(this)),e(i,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Rs(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Et=typeof window<"u"&&window.document&&window.document.createElement;function bi(){return Et&&"ontouchstart"in window}function Os(){return bi()||Et&&window.navigator.maxTouchPoints>1}function Ds(){return Et&&"onpointerdown"in window}function Vs(){return Et&&"exitPointerLock"in window.document}function js(){try{return"constructor"in GestureEvent}catch{return!1}}const F={isBrowser:Et,gesture:js(),touch:bi(),touchscreen:Os(),pointer:Ds(),pointerLock:Vs()},Fs=250,Ls=180,Ms=.5,$s=50,Us=250,Ns=10,ze={mouse:0,touch:0,pen:8},zs=A(A({},Tt),{},{device(t,e,{pointer:{touch:i=!1,lock:s=!1,mouse:n=!1}={}}){return this.pointerLock=s&&F.pointerLock,F.touch&&i?"touch":this.pointerLock?"mouse":F.pointer&&!n?"pointer":F.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:i}){if(this.preventScrollDelay=typeof i=="number"?i:i||i===void 0&&t?Fs:void 0,!(!F.touchscreen||i===!1))return t||(i!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:i=!0,buttons:s=1,keys:n=!0}={}}){return this.pointerButtons=s,this.keys=n,!this.pointerLock&&this.device==="pointer"&&i},threshold(t,e,{filterTaps:i=!1,tapsThreshold:s=3,axis:n=void 0}){const r=T.toVector(t,i?s:n?1:0);return this.filterTaps=i,this.tapsThreshold=s,r},swipe({velocity:t=Ms,distance:e=$s,duration:i=Us}={}){return{velocity:this.transform(T.toVector(t)),distance:this.transform(T.toVector(e)),duration:i}},delay(t=0){switch(t){case!0:return Ls;case!1:return 0;default:return t}},axisThreshold(t){return t?A(A({},ze),t):ze},keyboardDisplacement(t=Ns){return t}});A(A({},_i),{},{device(t,e,{shared:i,pointer:{touch:s=!1}={}}){if(i.target&&!F.touch&&F.gesture)return"gesture";if(F.touch&&s)return"touch";if(F.touchscreen){if(F.pointer)return"pointer";if(F.touch)return"touch"}},bounds(t,e,{scaleBounds:i={},angleBounds:s={}}){const n=o=>{const a=$e(Ut(i,o),{min:-1/0,max:1/0});return[a.min,a.max]},r=o=>{const a=$e(Ut(s,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof i!="function"&&typeof s!="function"?[n(),r()]:o=>[n(o),r(o)]},threshold(t,e,i){return this.lockDirection=i.axis==="lock",T.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});A(A({},Tt),{},{mouseOnly:(t=!0)=>t});A(A({},Tt),{},{mouseOnly:(t=!0)=>t});const wi=new Map,ce=new Map;function Bs(t){wi.set(t.key,t.engine),ce.set(t.key,t.resolver)}const qs={key:"drag",engine:Cs,resolver:zs};function Ks(t,e){if(t==null)return{};var i={},s=Object.keys(t),n,r;for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Qs(t,e){if(t==null)return{};var i=Ks(t,e),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)s=r[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}const Ws={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=F.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Gs=["target","eventOptions","window","enabled","transform"];function jt(t={},e){const i={};for(const[s,n]of Object.entries(e))switch(typeof n){case"function":i[s]=n.call(i,t[s],s,t);break;case"object":i[s]=jt(t[s],n);break;case"boolean":n&&(i[s]=t[s]);break}return i}function Hs(t,e,i={}){const s=t,{target:n,eventOptions:r,window:o,enabled:a,transform:f}=s,u=Qs(s,Gs);if(i.shared=jt({target:n,eventOptions:r,window:o,enabled:a,transform:f},Ws),e){const d=ce.get(e);i[e]=jt(A({shared:i.shared},u),d)}else for(const d in u){const l=ce.get(d);l&&(i[d]=jt(A({shared:i.shared},u[d]),l))}return i}class Si{constructor(e,i){C(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=i}add(e,i,s,n,r){const o=this._listeners,a=vs(i,s),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=A(A({},f),r);e.addEventListener(a,n,u);const d=()=>{e.removeEventListener(a,n,u),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Ys{constructor(){C(this,"_timeouts",new Map)}add(e,i,s=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(i,s,...n))}remove(e){const i=this._timeouts.get(e);i&&window.clearTimeout(i)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let Xs=class{constructor(e){C(this,"gestures",new Set),C(this,"_targetEventStore",new Si(this)),C(this,"gestureEventStores",{}),C(this,"gestureTimeoutStores",{}),C(this,"handlers",{}),C(this,"config",{}),C(this,"pointerIds",new Set),C(this,"touchIds",new Set),C(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Zs(this,e)}setEventIds(e){if(Kt(e))return this.touchIds=new Set(bs(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,i){this.handlers=e,this.nativeHandlers=i}applyConfig(e,i){this.config=Hs(e,i,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const i=this.config.shared,s={};let n;if(!(i.target&&(n=i.target(),!n))){if(i.enabled){for(const o of this.gestures){const a=this.config[o],f=Be(s,a.eventOptions,!!n);if(a.enabled){const u=wi.get(o);new u(this,e,o).bind(f)}}const r=Be(s,i.eventOptions,!!n);for(const o in this.nativeHandlers)r(o,"",a=>this.nativeHandlers[o](A(A({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const r in s)s[r]=xs(...s[r]);if(!n)return s;for(const r in s){const{device:o,capture:a,passive:f}=gs(r);this._targetEventStore.add(n,o,"",s[r],{capture:a,passive:f})}}}};function tt(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Si(t,e),t.gestureTimeoutStores[e]=new Ys}function Zs(t,e){e.drag&&tt(t,"drag"),e.wheel&&tt(t,"wheel"),e.scroll&&tt(t,"scroll"),e.move&&tt(t,"move"),e.pinch&&tt(t,"pinch"),e.hover&&tt(t,"hover")}const Be=(t,e,i)=>(s,n,r,o={},a=!1)=>{var f,u;const d=(f=o.capture)!==null&&f!==void 0?f:e.capture,l=(u=o.passive)!==null&&u!==void 0?u:e.passive;let h=a?s:ps(s,n,d);i&&l&&(h+="Passive"),t[h]=t[h]||[],t[h].push(r)};function Js(t,e={},i,s){const n=ee.useMemo(()=>new Xs(t),[]);if(n.applyHandlers(t,s),n.applyConfig(e,i),ee.useEffect(n.effect.bind(n)),ee.useEffect(()=>n.clean.bind(n),[]),e.target===void 0)return n.bind.bind(n)}function tn(t,e){return Bs(qs),Js({drag:t},{},"drag")}var be=Ct(),b=t=>It(t,be),we=Ct();b.write=t=>It(t,we);var Qt=Ct();b.onStart=t=>It(t,Qt);var Se=Ct();b.onFrame=t=>It(t,Se);var xe=Ct();b.onFinish=t=>It(t,xe);var st=[];b.setTimeout=(t,e)=>{const i=b.now()+e,s=()=>{const r=st.findIndex(o=>o.cancel==s);~r&&st.splice(r,1),G-=~r?1:0},n={time:i,handler:t,cancel:s};return st.splice(xi(i),0,n),G+=1,ki(),n};var xi=t=>~(~st.findIndex(e=>e.time>t)||~st.length);b.cancel=t=>{Qt.delete(t),Se.delete(t),xe.delete(t),be.delete(t),we.delete(t)};b.sync=t=>{le=!0,b.batchedUpdates(t),le=!1};b.throttle=t=>{let e;function i(){try{t(...e)}finally{e=null}}function s(...n){e=n,b.onStart(i)}return s.handler=t,s.cancel=()=>{Qt.delete(i),e=null},s};var ke=typeof window<"u"?window.requestAnimationFrame:()=>{};b.use=t=>ke=t;b.now=typeof performance<"u"?()=>performance.now():Date.now;b.batchedUpdates=t=>t();b.catch=console.error;b.frameLoop="always";b.advance=()=>{b.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Pi()};var W=-1,G=0,le=!1;function It(t,e){le?(e.delete(t),t(0)):(e.add(t),ki())}function ki(){W<0&&(W=0,b.frameLoop!=="demand"&&ke(Ai))}function en(){W=-1}function Ai(){~W&&(ke(Ai),b.batchedUpdates(Pi))}function Pi(){const t=W;W=b.now();const e=xi(W);if(e&&(Ti(st.splice(0,e),i=>i.handler()),G-=e),!G){en();return}Qt.flush(),be.flush(t?Math.min(64,W-t):16.667),Se.flush(),we.flush(),xe.flush()}function Ct(){let t=new Set,e=t;return{add(i){G+=e==t&&!t.has(i)?1:0,t.add(i)},delete(i){return G-=e==t&&t.has(i)?1:0,t.delete(i)},flush(i){e.size&&(t=new Set,G-=e.size,Ti(e,s=>s(i)&&t.add(s)),G+=t.size,e=t)}}}function Ti(t,e){t.forEach(i=>{try{e(i)}catch(s){b.catch(s)}})}var sn=Object.defineProperty,nn=(t,e)=>{for(var i in e)sn(t,i,{get:e[i],enumerable:!0})},N={};nn(N,{assign:()=>on,colors:()=>H,createStringInterpolator:()=>Pe,skipAnimation:()=>Ii,to:()=>Ei,willAdvance:()=>Te});function fe(){}var rn=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),c={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function K(t,e){if(c.arr(t)){if(!c.arr(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return t===e}var S=(t,e)=>t.forEach(e);function B(t,e,i){if(c.arr(t)){for(let s=0;s<t.length;s++)e.call(i,t[s],`${s}`);return}for(const s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s)}var D=t=>c.und(t)?[]:c.arr(t)?t:[t];function pt(t,e){if(t.size){const i=Array.from(t);t.clear(),S(i,e)}}var dt=(t,...e)=>pt(t,i=>i(...e)),Ae=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Pe,Ei,H=null,Ii=!1,Te=fe,on=t=>{t.to&&(Ei=t.to),t.now&&(b.now=t.now),t.colors!==void 0&&(H=t.colors),t.skipAnimation!=null&&(Ii=t.skipAnimation),t.createStringInterpolator&&(Pe=t.createStringInterpolator),t.requestAnimationFrame&&b.use(t.requestAnimationFrame),t.batchedUpdates&&(b.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Te=t.willAdvance),t.frameLoop&&(b.frameLoop=t.frameLoop)},mt=new Set,M=[],se=[],Nt=0,Wt={get idle(){return!mt.size&&!M.length},start(t){Nt>t.priority?(mt.add(t),b.onStart(an)):(Ci(t),b(de))},advance:de,sort(t){if(Nt)b.onFrame(()=>Wt.sort(t));else{const e=M.indexOf(t);~e&&(M.splice(e,1),Ri(t))}},clear(){M=[],mt.clear()}};function an(){mt.forEach(Ci),mt.clear(),b(de)}function Ci(t){M.includes(t)||Ri(t)}function Ri(t){M.splice(un(M,e=>e.priority>t.priority),0,t)}function de(t){const e=se;for(let i=0;i<M.length;i++){const s=M[i];Nt=s.priority,s.idle||(Te(s),s.advance(t),s.idle||e.push(s))}return Nt=0,se=M,se.length=0,M=e,M.length>0}function un(t,e){const i=t.findIndex(e);return i<0?t.length:i}var cn={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},U="[-+]?\\d*\\.?\\d+",zt=U+"%";function Gt(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ln=new RegExp("rgb"+Gt(U,U,U)),fn=new RegExp("rgba"+Gt(U,U,U,U)),dn=new RegExp("hsl"+Gt(U,zt,zt)),hn=new RegExp("hsla"+Gt(U,zt,zt,U)),pn=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,mn=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,gn=/^#([0-9a-fA-F]{6})$/,vn=/^#([0-9a-fA-F]{8})$/;function yn(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=gn.exec(t))?parseInt(e[1]+"ff",16)>>>0:H&&H[t]!==void 0?H[t]:(e=ln.exec(t))?(et(e[1])<<24|et(e[2])<<16|et(e[3])<<8|255)>>>0:(e=fn.exec(t))?(et(e[1])<<24|et(e[2])<<16|et(e[3])<<8|Qe(e[4]))>>>0:(e=pn.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=vn.exec(t))?parseInt(e[1],16)>>>0:(e=mn.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=dn.exec(t))?(qe(Ke(e[1]),Dt(e[2]),Dt(e[3]))|255)>>>0:(e=hn.exec(t))?(qe(Ke(e[1]),Dt(e[2]),Dt(e[3]))|Qe(e[4]))>>>0:null}function ne(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function qe(t,e,i){const s=i<.5?i*(1+e):i+e-i*e,n=2*i-s,r=ne(n,s,t+1/3),o=ne(n,s,t),a=ne(n,s,t-1/3);return Math.round(r*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function et(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Ke(t){return(parseFloat(t)%360+360)%360/360}function Qe(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Dt(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function We(t){let e=yn(t);if(e===null)return t;e=e||0;const i=(e&4278190080)>>>24,s=(e&16711680)>>>16,n=(e&65280)>>>8,r=(e&255)/255;return`rgba(${i}, ${s}, ${n}, ${r})`}var yt=(t,e,i)=>{if(c.fun(t))return t;if(c.arr(t))return yt({range:t,output:e,extrapolate:i});if(c.str(t.output[0]))return Pe(t);const s=t,n=s.output,r=s.range||[0,1],o=s.extrapolateLeft||s.extrapolate||"extend",a=s.extrapolateRight||s.extrapolate||"extend",f=s.easing||(u=>u);return u=>{const d=bn(u,r);return _n(u,r[d],r[d+1],n[d],n[d+1],f,o,a,s.map)}};function _n(t,e,i,s,n,r,o,a,f){let u=f?f(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>i){if(a==="identity")return u;a==="clamp"&&(u=i)}return s===n?s:e===i?t<=e?s:n:(e===-1/0?u=-u:i===1/0?u=u-e:u=(u-e)/(i-e),u=r(u),s===-1/0?u=-u:n===1/0?u=u+s:u=u*(n-s)+s,u)}function bn(t,e){for(var i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1}var wn={linear:t=>t},_t=Symbol.for("FluidValue.get"),rt=Symbol.for("FluidValue.observers"),L=t=>!!(t&&t[_t]),R=t=>t&&t[_t]?t[_t]():t,Ge=t=>t[rt]||null;function Sn(t,e){t.eventObserved?t.eventObserved(e):t(e)}function bt(t,e){const i=t[rt];i&&i.forEach(s=>{Sn(s,e)})}var Oi=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");xn(this,t)}},xn=(t,e)=>Di(t,_t,e);function ot(t,e){if(t[_t]){let i=t[rt];i||Di(t,rt,i=new Set),i.has(e)||(i.add(e),t.observerAdded&&t.observerAdded(i.size,e))}return e}function wt(t,e){const i=t[rt];if(i&&i.has(e)){const s=i.size-1;s?i.delete(e):t[rt]=null,t.observerRemoved&&t.observerRemoved(s,e)}}var Di=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),Ft=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,kn=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,He=new RegExp(`(${Ft.source})(%|[a-z]+)`,"i"),An=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ht=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Vi=t=>{const[e,i]=Pn(t);if(!e||Ae())return t;const s=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(s)return s.trim();if(i&&i.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(i);return n||t}else{if(i&&Ht.test(i))return Vi(i);if(i)return i}return t},Pn=t=>{const e=Ht.exec(t);if(!e)return[,];const[,i,s]=e;return[i,s]},re,Tn=(t,e,i,s,n)=>`rgba(${Math.round(e)}, ${Math.round(i)}, ${Math.round(s)}, ${n})`,ji=t=>{re||(re=H?new RegExp(`(${Object.keys(H).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(r=>R(r).replace(Ht,Vi).replace(kn,We).replace(re,We)),i=e.map(r=>r.match(Ft).map(Number)),n=i[0].map((r,o)=>i.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(r=>yt({...t,output:r}));return r=>{const o=!He.test(e[0])&&e.find(f=>He.test(f))?.replace(Ft,"");let a=0;return e[0].replace(Ft,()=>`${n[a++](r)}${o||""}`).replace(An,Tn)}},Ee="react-spring: ",Fi=t=>{const e=t;let i=!1;if(typeof e!="function")throw new TypeError(`${Ee}once requires a function parameter`);return(...s)=>{i||(e(...s),i=!0)}},En=Fi(console.warn);function In(){En(`${Ee}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Cn=Fi(console.warn);function Rn(){Cn(`${Ee}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Yt(t){return c.str(t)&&(t[0]=="#"||/\d/.test(t)||!Ae()&&Ht.test(t)||t in(H||{}))}var Ie=Ae()?k.useEffect:k.useLayoutEffect,On=()=>{const t=k.useRef(!1);return Ie(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Li(){const t=k.useState()[1],e=On();return()=>{e.current&&t(Math.random())}}function Dn(t,e){const[i]=k.useState(()=>({inputs:e,result:t()})),s=k.useRef(),n=s.current;let r=n;return r?e&&r.inputs&&Vn(e,r.inputs)||(r={inputs:e,result:t()}):r=i,k.useEffect(()=>{s.current=r,n==i&&(i.inputs=i.result=void 0)},[r]),r.result}function Vn(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var Mi=t=>k.useEffect(t,jn),jn=[];function Ye(t){const e=k.useRef();return k.useEffect(()=>{e.current=t}),e.current}var St=Symbol.for("Animated:node"),Fn=t=>!!t&&t[St]===t,z=t=>t&&t[St],Ce=(t,e)=>rn(t,St,e),Xt=t=>t&&t[St]&&t[St].getPayload(),$i=class{constructor(){Ce(this,this)}getPayload(){return this.payload||[]}},Rt=class extends $i{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,c.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Rt(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return c.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,c.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},xt=class extends Rt{constructor(t){super(0),this._string=null,this._toString=yt({output:[t,t]})}static create(t){return new xt(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(c.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=yt({output:[this.getValue(),t]})),this._value=0,super.reset()}},Bt={dependencies:null},Zt=class extends $i{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return B(this.source,(i,s)=>{Fn(i)?e[s]=i.getValue(t):L(i)?e[s]=R(i):t||(e[s]=i)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&S(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return B(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Bt.dependencies&&L(t)&&Bt.dependencies.add(t);const e=Xt(t);e&&S(e,i=>this.add(i))}},Ui=class extends Zt{constructor(t){super(t)}static create(t){return new Ui(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((i,s)=>i.setValue(t[s])).some(Boolean):(super.setValue(t.map(Ln)),!0)}};function Ln(t){return(Yt(t)?xt:Rt).create(t)}function he(t){const e=z(t);return e?e.constructor:c.arr(t)?Ui:Yt(t)?xt:Rt}var Xe=(t,e)=>{const i=!c.fun(t)||t.prototype&&t.prototype.isReactComponent;return k.forwardRef((s,n)=>{const r=k.useRef(null),o=i&&k.useCallback(y=>{r.current=Un(n,y)},[n]),[a,f]=$n(s,e),u=Li(),d=()=>{const y=r.current;if(i&&!y)return;(y?e.applyAnimatedValues(y,a.getValue(!0)):!1)===!1&&u()},l=new Mn(d,f),h=k.useRef();Ie(()=>(h.current=l,S(f,y=>ot(y,l)),()=>{h.current&&(S(h.current.deps,y=>wt(y,h.current)),b.cancel(h.current.update))})),k.useEffect(d,[]),Mi(()=>()=>{const y=h.current;S(y.deps,p=>wt(p,y))});const m=e.getComponentProps(a.getValue());return k.createElement(t,{...m,ref:o})})},Mn=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&b.write(this.update)}};function $n(t,e){const i=new Set;return Bt.dependencies=i,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Zt(t),Bt.dependencies=null,[t,i]}function Un(t,e){return t&&(c.fun(t)?t(e):t.current=e),e}var Ze=Symbol.for("AnimatedComponent"),Nn=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:i=n=>new Zt(n),getComponentProps:s=n=>n}={})=>{const n={applyAnimatedValues:e,createAnimatedStyle:i,getComponentProps:s},r=o=>{const a=Je(o)||"Anonymous";return c.str(o)?o=r[o]||(r[o]=Xe(o,n)):o=o[Ze]||(o[Ze]=Xe(o,n)),o.displayName=`Animated(${a})`,o};return B(t,(o,a)=>{c.arr(t)&&(a=Je(o)),r[a]=r(o)}),{animated:r}},Je=t=>c.str(t)?t:t&&c.str(t.displayName)?t.displayName:c.fun(t)&&t.name||null;function X(t,...e){return c.fun(t)?t(...e):t}var gt=(t,e)=>t===!0||!!(e&&t&&(c.fun(t)?t(e):D(t).includes(e))),Ni=(t,e)=>c.obj(t)?e&&t[e]:t,zi=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,zn=t=>t,Re=(t,e=zn)=>{let i=Bn;t.default&&t.default!==!0&&(t=t.default,i=Object.keys(t));const s={};for(const n of i){const r=e(t[n],n);c.und(r)||(s[n]=r)}return s},Bn=["config","onProps","onStart","onChange","onPause","onResume","onRest"],qn={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Kn(t){const e={};let i=0;if(B(t,(s,n)=>{qn[n]||(e[n]=s,i++)}),i)return e}function Bi(t){const e=Kn(t);if(e){const i={to:e};return B(t,(s,n)=>n in e||(i[n]=s)),i}return{...t}}function kt(t){return t=R(t),c.arr(t)?t.map(kt):Yt(t)?N.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Qn(t){for(const e in t)return!0;return!1}function pe(t){return c.fun(t)||c.arr(t)&&c.obj(t[0])}function Wn(t,e){t.ref?.delete(t),e?.delete(t)}function Gn(t,e){e&&t.ref!==e&&(t.ref?.delete(t),e.add(t),t.ref=e)}var Hn={default:{tension:170,friction:26}},me={...Hn.default,mass:1,damping:1,easing:wn.linear,clamp:!1},Yn=class{constructor(){this.velocity=0,Object.assign(this,me)}};function Xn(t,e,i){i&&(i={...i},ti(i,e),e={...i,...e}),ti(t,e),Object.assign(t,e);for(const o in me)t[o]==null&&(t[o]=me[o]);let{frequency:s,damping:n}=t;const{mass:r}=t;return c.und(s)||(s<.01&&(s=.01),n<0&&(n=0),t.tension=Math.pow(2*Math.PI/s,2)*r,t.friction=4*Math.PI*n*r/s),t}function ti(t,e){if(!c.und(e.decay))t.duration=void 0;else{const i=!c.und(e.tension)||!c.und(e.friction);(i||!c.und(e.frequency)||!c.und(e.damping)||!c.und(e.mass))&&(t.duration=void 0,t.decay=void 0),i&&(t.frequency=void 0)}}var ei=[],Zn=class{constructor(){this.changed=!1,this.values=ei,this.toValues=null,this.fromValues=ei,this.config=new Yn,this.immediate=!1}};function qi(t,{key:e,props:i,defaultProps:s,state:n,actions:r}){return new Promise((o,a)=>{let f,u,d=gt(i.cancel??s?.cancel,e);if(d)m();else{c.und(i.pause)||(n.paused=gt(i.pause,e));let y=s?.pause;y!==!0&&(y=n.paused||gt(y,e)),f=X(i.delay||0,e),y?(n.resumeQueue.add(h),r.pause()):(r.resume(),h())}function l(){n.resumeQueue.add(h),n.timeouts.delete(u),u.cancel(),f=u.time-b.now()}function h(){f>0&&!N.skipAnimation?(n.delayed=!0,u=b.setTimeout(m,f),n.pauseQueue.add(l),n.timeouts.add(u)):m()}function m(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(l),n.timeouts.delete(u),t<=(n.cancelId||0)&&(d=!0);try{r.start({...i,callId:t,cancel:d},o)}catch(y){a(y)}}})}var Oe=(t,e)=>e.length==1?e[0]:e.some(i=>i.cancelled)?nt(t.get()):e.every(i=>i.noop)?Ki(t.get()):$(t.get(),e.every(i=>i.finished)),Ki=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),$=(t,e,i=!1)=>({value:t,finished:e,cancelled:i}),nt=t=>({value:t,cancelled:!0,finished:!1});function Qi(t,e,i,s){const{callId:n,parentId:r,onRest:o}=e,{asyncTo:a,promise:f}=i;return!r&&t===a&&!e.reset?f:i.promise=(async()=>{i.asyncId=n,i.asyncTo=t;const u=Re(e,(v,g)=>g==="onRest"?void 0:v);let d,l;const h=new Promise((v,g)=>(d=v,l=g)),m=v=>{const g=n<=(i.cancelId||0)&&nt(s)||n!==i.asyncId&&$(s,!1);if(g)throw v.result=g,l(v),v},y=(v,g)=>{const w=new ii,_=new si;return(async()=>{if(N.skipAnimation)throw At(i),_.result=$(s,!1),l(_),_;m(w);const x=c.obj(v)?{...v}:{...g,to:v};x.parentId=n,B(u,(E,I)=>{c.und(x[I])&&(x[I]=E)});const P=await s.start(x);return m(w),i.paused&&await new Promise(E=>{i.resumeQueue.add(E)}),P})()};let p;if(N.skipAnimation)return At(i),$(s,!1);try{let v;c.arr(t)?v=(async g=>{for(const w of g)await y(w)})(t):v=Promise.resolve(t(y,s.stop.bind(s))),await Promise.all([v.then(d),h]),p=$(s.get(),!0,!1)}catch(v){if(v instanceof ii)p=v.result;else if(v instanceof si)p=v.result;else throw v}finally{n==i.asyncId&&(i.asyncId=r,i.asyncTo=r?a:void 0,i.promise=r?f:void 0)}return c.fun(o)&&b.batchedUpdates(()=>{o(p,s,s.item)}),p})()}function At(t,e){pt(t.timeouts,i=>i.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var ii=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},si=class extends Error{constructor(){super("SkipAnimationSignal")}},ge=t=>t instanceof De,Jn=1,De=class extends Oi{constructor(){super(...arguments),this.id=Jn++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=z(this);return t&&t.getValue()}to(...t){return N.to(this,t)}interpolate(...t){return In(),N.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){bt(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||Wt.sort(this),bt(this,{type:"priority",parent:this,priority:t})}},Z=Symbol.for("SpringPhase"),Wi=1,ve=2,ye=4,oe=t=>(t[Z]&Wi)>0,Q=t=>(t[Z]&ve)>0,ut=t=>(t[Z]&ye)>0,ni=(t,e)=>e?t[Z]|=ve|Wi:t[Z]&=~ve,ri=(t,e)=>e?t[Z]|=ye:t[Z]&=~ye,tr=class extends De{constructor(t,e){if(super(),this.animation=new Zn,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!c.und(t)||!c.und(e)){const i=c.obj(t)?{...t}:{...e,from:t};c.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Q(this)||this._state.asyncTo)||ut(this)}get goal(){return R(this.animation.to)}get velocity(){const t=z(this);return t instanceof Rt?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return oe(this)}get isAnimating(){return Q(this)}get isPaused(){return ut(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,i=!1;const s=this.animation;let{toValues:n}=s;const{config:r}=s,o=Xt(s.to);!o&&L(s.to)&&(n=D(R(s.to))),s.values.forEach((u,d)=>{if(u.done)return;const l=u.constructor==xt?1:o?o[d].lastPosition:n[d];let h=s.immediate,m=l;if(!h){if(m=u.lastPosition,r.tension<=0){u.done=!0;return}let y=u.elapsedTime+=t;const p=s.fromValues[d],v=u.v0!=null?u.v0:u.v0=c.arr(r.velocity)?r.velocity[d]:r.velocity;let g;const w=r.precision||(p==l?.005:Math.min(1,Math.abs(l-p)*.001));if(c.und(r.duration))if(r.decay){const _=r.decay===!0?.998:r.decay,x=Math.exp(-(1-_)*y);m=p+v/(1-_)*(1-x),h=Math.abs(u.lastPosition-m)<=w,g=v*x}else{g=u.lastVelocity==null?v:u.lastVelocity;const _=r.restVelocity||w/10,x=r.clamp?0:r.bounce,P=!c.und(x),E=p==l?u.v0>0:p<l;let I,Ot=!1;const V=1,at=Math.ceil(t/V);for(let q=0;q<at&&(I=Math.abs(g)>_,!(!I&&(h=Math.abs(l-m)<=w,h)));++q){P&&(Ot=m==l||m>l==E,Ot&&(g=-g*x,m=l));const J=-r.tension*1e-6*(m-l),te=-r.friction*.001*g,ss=(J+te)/r.mass;g=g+ss*V,m=m+g*V}}else{let _=1;r.duration>0&&(this._memoizedDuration!==r.duration&&(this._memoizedDuration=r.duration,u.durationProgress>0&&(u.elapsedTime=r.duration*u.durationProgress,y=u.elapsedTime+=t)),_=(r.progress||0)+y/this._memoizedDuration,_=_>1?1:_<0?0:_,u.durationProgress=_),m=p+r.easing(_)*(l-p),g=(m-u.lastPosition)/t,h=_==1}u.lastVelocity=g,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[d].done&&(h=!1),h?u.done=!0:e=!1,u.setValue(m,r.round)&&(i=!0)});const a=z(this),f=a.getValue();if(e){const u=R(s.to);(f!==u||i)&&!r.decay?(a.setValue(u),this._onChange(u)):i&&r.decay&&this._onChange(f),this._stop()}else i&&this._onChange(f)}set(t){return b.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Q(this)){const{to:t,config:e}=this.animation;b.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let i;return c.und(t)?(i=this.queue||[],this.queue=[]):i=[c.obj(t)?t:{...e,to:t}],Promise.all(i.map(s=>this._update(s))).then(s=>Oe(this,s))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),At(this._state,t&&this._lastCallId),b.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:i,from:s}=t;i=c.obj(i)?i[e]:i,(i==null||pe(i))&&(i=void 0),s=c.obj(s)?s[e]:s,s==null&&(s=void 0);const n={to:i,from:s};return oe(this)||(t.reverse&&([i,s]=[s,i]),s=R(s),c.und(s)?z(this)||this._set(i):this._set(s)),n}_update({...t},e){const{key:i,defaultProps:s}=this;t.default&&Object.assign(s,Re(t,(o,a)=>/^on/.test(a)?Ni(o,i):o)),ai(this,t,"onProps"),lt(this,"onProps",t,this);const n=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const r=this._state;return qi(++this._lastCallId,{key:i,props:t,defaultProps:s,state:r,actions:{pause:()=>{ut(this)||(ri(this,!0),dt(r.pauseQueue),lt(this,"onPause",$(this,ct(this,this.animation.to)),this))},resume:()=>{ut(this)&&(ri(this,!1),Q(this)&&this._resume(),dt(r.resumeQueue),lt(this,"onResume",$(this,ct(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=Gi(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,i){if(e.cancel)return this.stop(!0),i(nt(this));const s=!c.und(t.to),n=!c.und(t.from);if(s||n)if(e.callId>this._lastToId)this._lastToId=e.callId;else return i(nt(this));const{key:r,defaultProps:o,animation:a}=this,{to:f,from:u}=a;let{to:d=f,from:l=u}=t;n&&!s&&(!e.default||c.und(d))&&(d=l),e.reverse&&([d,l]=[l,d]);const h=!K(l,u);h&&(a.from=l),l=R(l);const m=!K(d,f);m&&this._focus(d);const y=pe(e.to),{config:p}=a,{decay:v,velocity:g}=p;(s||n)&&(p.velocity=0),e.config&&!y&&Xn(p,X(e.config,r),e.config!==o.config?X(o.config,r):void 0);let w=z(this);if(!w||c.und(d))return i($(this,!0));const _=c.und(e.reset)?n&&!e.default:!c.und(l)&&gt(e.reset,r),x=_?l:this.get(),P=kt(d),E=c.num(P)||c.arr(P)||Yt(P),I=!y&&(!E||gt(o.immediate||e.immediate,r));if(m){const q=he(d);if(q!==w.constructor)if(I)w=this._set(P);else throw Error(`Cannot animate between ${w.constructor.name} and ${q.name}, as the "to" prop suggests`)}const Ot=w.constructor;let V=L(d),at=!1;if(!V){const q=_||!oe(this)&&h;(m||q)&&(at=K(kt(x),P),V=!at),(!K(a.immediate,I)&&!I||!K(p.decay,v)||!K(p.velocity,g))&&(V=!0)}if(at&&Q(this)&&(a.changed&&!_?V=!0:V||this._stop(f)),!y&&((V||L(f))&&(a.values=w.getPayload(),a.toValues=L(d)?null:Ot==xt?[1]:D(P)),a.immediate!=I&&(a.immediate=I,!I&&!_&&this._set(f)),V)){const{onRest:q}=a;S(ir,te=>ai(this,e,te));const J=$(this,ct(this,f));dt(this._pendingCalls,J),this._pendingCalls.add(i),a.changed&&b.batchedUpdates(()=>{a.changed=!_,q?.(J,this),_?X(o.onRest,J):a.onStart?.(J,this)})}_&&this._set(x),y?i(Qi(e.to,e,this._state,this)):V?this._start():Q(this)&&!m?this._pendingCalls.add(i):i(Ki(x))}_focus(t){const e=this.animation;t!==e.to&&(Ge(this)&&this._detach(),e.to=t,Ge(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;L(e)&&(ot(e,this),ge(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;L(t)&&wt(t,this)}_set(t,e=!0){const i=R(t);if(!c.und(i)){const s=z(this);if(!s||!K(i,s.getValue())){const n=he(i);!s||s.constructor!=n?Ce(this,n.create(i)):s.setValue(i),s&&b.batchedUpdates(()=>{this._onChange(i,e)})}}return z(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,lt(this,"onStart",$(this,ct(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),X(this.animation.onChange,t,this)),X(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;z(this).reset(R(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Q(this)||(ni(this,!0),ut(this)||this._resume())}_resume(){N.skipAnimation?this.finish():Wt.start(this)}_stop(t,e){if(Q(this)){ni(this,!1);const i=this.animation;S(i.values,n=>{n.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),bt(this,{type:"idle",parent:this});const s=e?nt(this.get()):$(this.get(),ct(this,t??i.to));dt(this._pendingCalls,s),i.changed&&(i.changed=!1,lt(this,"onRest",s,this))}}};function ct(t,e){const i=kt(e),s=kt(t.get());return K(s,i)}function Gi(t,e=t.loop,i=t.to){const s=X(e);if(s){const n=s!==!0&&Bi(s),r=(n||t).reverse,o=!n||n.reset;return Pt({...t,loop:e,default:!1,pause:void 0,to:!r||pe(i)?i:void 0,from:o?t.from:void 0,reset:o,...n})}}function Pt(t){const{to:e,from:i}=t=Bi(t),s=new Set;return c.obj(e)&&oi(e,s),c.obj(i)&&oi(i,s),t.keys=s.size?Array.from(s):null,t}function er(t){const e=Pt(t);return c.und(e.default)&&(e.default=Re(e)),e}function oi(t,e){B(t,(i,s)=>i!=null&&e.add(s))}var ir=["onStart","onRest","onChange","onPause","onResume"];function ai(t,e,i){t.animation[i]=e[i]!==zi(e,i)?Ni(e[i],t.key):void 0}function lt(t,e,...i){t.animation[e]?.(...i),t.defaultProps[e]?.(...i)}var sr=["onStart","onChange","onRest"],nr=1,rr=class{constructor(t,e){this.id=nr++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,i)=>t[i]=e.get()),t}set(t){for(const e in t){const i=t[e];c.und(i)||this.springs[e].set(i)}}update(t){return t&&this.queue.push(Pt(t)),this}start(t){let{queue:e}=this;return t?e=D(t).map(Pt):this.queue=[],this._flush?this._flush(this,e):(Ji(this,e),_e(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const i=this.springs;S(D(e),s=>i[s].stop(!!t))}else At(this._state,this._lastAsyncId),this.each(i=>i.stop(!!t));return this}pause(t){if(c.und(t))this.start({pause:!0});else{const e=this.springs;S(D(t),i=>e[i].pause())}return this}resume(t){if(c.und(t))this.start({pause:!1});else{const e=this.springs;S(D(t),i=>e[i].resume())}return this}each(t){B(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:i}=this._events,s=this._active.size>0,n=this._changed.size>0;(s&&!this._started||n&&!this._started)&&(this._started=!0,pt(t,([a,f])=>{f.value=this.get(),a(f,this,this._item)}));const r=!s&&this._started,o=n||r&&i.size?this.get():null;n&&e.size&&pt(e,([a,f])=>{f.value=o,a(f,this,this._item)}),r&&(this._started=!1,pt(i,([a,f])=>{f.value=o,a(f,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;b.onFrame(this._onFrame)}};function _e(t,e){return Promise.all(e.map(i=>Hi(t,i))).then(i=>Oe(t,i))}async function Hi(t,e,i){const{keys:s,to:n,from:r,loop:o,onRest:a,onResolve:f}=e,u=c.obj(e.default)&&e.default;o&&(e.loop=!1),n===!1&&(e.to=null),r===!1&&(e.from=null);const d=c.arr(n)||c.fun(n)?n:void 0;d?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):S(sr,p=>{const v=e[p];if(c.fun(v)){const g=t._events[p];e[p]=({finished:w,cancelled:_})=>{const x=g.get(v);x?(w||(x.finished=!1),_&&(x.cancelled=!0)):g.set(v,{value:null,finished:w||!1,cancelled:_||!1})},u&&(u[p]=e[p])}});const l=t._state;e.pause===!l.paused?(l.paused=e.pause,dt(e.pause?l.pauseQueue:l.resumeQueue)):l.paused&&(e.pause=!0);const h=(s||Object.keys(t.springs)).map(p=>t.springs[p].start(e)),m=e.cancel===!0||zi(e,"cancel")===!0;(d||m&&l.asyncId)&&h.push(qi(++t._lastAsyncId,{props:e,state:l,actions:{pause:fe,resume:fe,start(p,v){m?(At(l,t._lastAsyncId),v(nt(t))):(p.onRest=a,v(Qi(d,p,l,t)))}}})),l.paused&&await new Promise(p=>{l.resumeQueue.add(p)});const y=Oe(t,await Promise.all(h));if(o&&y.finished&&!(i&&y.noop)){const p=Gi(e,o,n);if(p)return Ji(t,[p]),Hi(t,p,!0)}return f&&b.batchedUpdates(()=>f(y,t,t.item)),y}function ui(t,e){const i={...t.springs};return e&&S(D(e),s=>{c.und(s.keys)&&(s=Pt(s)),c.obj(s.to)||(s={...s,to:void 0}),Zi(i,s,n=>Xi(n))}),Yi(t,i),i}function Yi(t,e){B(e,(i,s)=>{t.springs[s]||(t.springs[s]=i,ot(i,t))})}function Xi(t,e){const i=new tr;return i.key=t,e&&ot(i,e),i}function Zi(t,e,i){e.keys&&S(e.keys,s=>{(t[s]||(t[s]=i(s)))._prepareNode(e)})}function Ji(t,e){S(e,i=>{Zi(t.springs,i,s=>Xi(s,t))})}var Jt=({children:t,...e})=>{const i=k.useContext(qt),s=e.pause||!!i.pause,n=e.immediate||!!i.immediate;e=Dn(()=>({pause:s,immediate:n}),[s,n]);const{Provider:r}=qt;return k.createElement(r,{value:e},t)},qt=or(Jt,{});Jt.Provider=qt.Provider;Jt.Consumer=qt.Consumer;function or(t,e){return Object.assign(t,k.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var ar=()=>{const t=[],e=function(s){Rn();const n=[];return S(t,(r,o)=>{if(c.und(s))n.push(r.start());else{const a=i(s,r,o);a&&n.push(r.start(a))}}),n};e.current=t,e.add=function(s){t.includes(s)||t.push(s)},e.delete=function(s){const n=t.indexOf(s);~n&&t.splice(n,1)},e.pause=function(){return S(t,s=>s.pause(...arguments)),this},e.resume=function(){return S(t,s=>s.resume(...arguments)),this},e.set=function(s){S(t,(n,r)=>{const o=c.fun(s)?s(r,n):s;o&&n.set(o)})},e.start=function(s){const n=[];return S(t,(r,o)=>{if(c.und(s))n.push(r.start());else{const a=this._getProps(s,r,o);a&&n.push(r.start(a))}}),n},e.stop=function(){return S(t,s=>s.stop(...arguments)),this},e.update=function(s){return S(t,(n,r)=>n.update(this._getProps(s,n,r))),this};const i=function(s,n,r){return c.fun(s)?s(r,n):s};return e._getProps=i,e};function ht(t,e,i){const s=c.fun(e)&&e;s&&!i&&(i=[]);const n=k.useMemo(()=>s||arguments.length==3?ar():void 0,[]),r=k.useRef(0),o=Li(),a=k.useMemo(()=>({ctrls:[],queue:[],flush(g,w){const _=ui(g,w);return r.current>0&&!a.queue.length&&!Object.keys(_).some(P=>!g.springs[P])?_e(g,w):new Promise(P=>{Yi(g,_),a.queue.push(()=>{P(_e(g,w))}),o()})}}),[]),f=k.useRef([...a.ctrls]),u=[],d=Ye(t)||0;k.useMemo(()=>{S(f.current.slice(t,d),g=>{Wn(g,n),g.stop(!0)}),f.current.length=t,l(d,t)},[t]),k.useMemo(()=>{l(0,Math.min(d,t))},i);function l(g,w){for(let _=g;_<w;_++){const x=f.current[_]||(f.current[_]=new rr(null,a.flush)),P=s?s(_,x):e[_];P&&(u[_]=er(P))}}const h=f.current.map((g,w)=>ui(g,u[w])),m=k.useContext(Jt),y=Ye(m),p=m!==y&&Qn(m);Ie(()=>{r.current++,a.ctrls=f.current;const{queue:g}=a;g.length&&(a.queue=[],S(g,w=>w())),S(f.current,(w,_)=>{n?.add(w),p&&w.start({default:m});const x=u[_];x&&(Gn(w,x.ref),w.ref?w.queue.push(x):w.start(x))})}),Mi(()=>()=>{S(a.ctrls,g=>g.stop(!0))});const v=h.map(g=>({...g}));return n?[v,n]:v}function ur(t,e){const i=c.fun(t),[[s],n]=ht(1,i?t:[t],i?[]:e);return i||arguments.length==2?[s,n]:s}var ts=class extends De{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=yt(...e);const i=this._get(),s=he(i);Ce(this,s.create(i))}advance(t){const e=this._get(),i=this.get();K(e,i)||(z(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&ci(this._active)&&ae(this)}_get(){const t=c.arr(this.source)?this.source.map(R):D(R(this.source));return this.calc(...t)}_start(){this.idle&&!ci(this._active)&&(this.idle=!1,S(Xt(this),t=>{t.done=!1}),N.skipAnimation?(b.batchedUpdates(()=>this.advance()),ae(this)):Wt.start(this))}_attach(){let t=1;S(D(this.source),e=>{L(e)&&ot(e,this),ge(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){S(D(this.source),t=>{L(t)&&wt(t,this)}),this._active.clear(),ae(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=D(this.source).reduce((e,i)=>Math.max(e,(ge(i)?i.priority:0)+1),0))}};function cr(t){return t.idle!==!1}function ci(t){return!t.size||Array.from(t).every(cr)}function ae(t){t.idle||(t.idle=!0,S(Xt(t),e=>{e.done=!0}),bt(t,{type:"idle",parent:t}))}var lr=(t,...e)=>new ts(t,e);N.assign({createStringInterpolator:ji,to:(t,e)=>new ts(t,e)});var es=/^--/;function fr(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!es.test(t)&&!(vt.hasOwnProperty(t)&&vt[t])?e+"px":(""+e).trim()}var li={};function dr(t,e){if(!t.nodeType||!t.setAttribute)return!1;const i=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:s,style:n,children:r,scrollTop:o,scrollLeft:a,viewBox:f,...u}=e,d=Object.values(u),l=Object.keys(u).map(h=>i||t.hasAttribute(h)?h:li[h]||(li[h]=h.replace(/([A-Z])/g,m=>"-"+m.toLowerCase())));r!==void 0&&(t.textContent=r);for(const h in n)if(n.hasOwnProperty(h)){const m=fr(h,n[h]);es.test(h)?t.style.setProperty(h,m):t.style[h]=m}l.forEach((h,m)=>{t.setAttribute(h,d[m])}),s!==void 0&&(t.className=s),o!==void 0&&(t.scrollTop=o),a!==void 0&&(t.scrollLeft=a),f!==void 0&&t.setAttribute("viewBox",f)}var vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),pr=["Webkit","Ms","Moz","O"];vt=Object.keys(vt).reduce((t,e)=>(pr.forEach(i=>t[hr(i,e)]=t[e]),t),vt);var mr=/^(matrix|translate|scale|rotate|skew)/,gr=/^(translate)/,vr=/^(rotate|skew)/,ue=(t,e)=>c.num(t)&&t!==0?t+e:t,Lt=(t,e)=>c.arr(t)?t.every(i=>Lt(i,e)):c.num(t)?t===e:parseFloat(t)===e,yr=class extends Zt{constructor({x:t,y:e,z:i,...s}){const n=[],r=[];(t||e||i)&&(n.push([t||0,e||0,i||0]),r.push(o=>[`translate3d(${o.map(a=>ue(a,"px")).join(",")})`,Lt(o,0)])),B(s,(o,a)=>{if(a==="transform")n.push([o||""]),r.push(f=>[f,f===""]);else if(mr.test(a)){if(delete s[a],c.und(o))return;const f=gr.test(a)?"px":vr.test(a)?"deg":"";n.push(D(o)),r.push(a==="rotate3d"?([u,d,l,h])=>[`rotate3d(${u},${d},${l},${ue(h,f)})`,Lt(h,0)]:u=>[`${a}(${u.map(d=>ue(d,f)).join(",")})`,Lt(u,a.startsWith("scale")?1:0)])}}),n.length&&(s.transform=new _r(n,r)),super(s)}},_r=class extends Oi{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return S(this.inputs,(i,s)=>{const n=R(i[0]),[r,o]=this.transforms[s](c.arr(n)?n:i.map(R));t+=" "+r,e=e&&o}),e?"none":t}observerAdded(t){t==1&&S(this.inputs,e=>S(e,i=>L(i)&&ot(i,this)))}observerRemoved(t){t==0&&S(this.inputs,e=>S(e,i=>L(i)&&wt(i,this)))}eventObserved(t){t.type=="change"&&(this._value=null),bt(this,t)}},br=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];N.assign({batchedUpdates:as.unstable_batchedUpdates,createStringInterpolator:ji,colors:cn});var wr=Nn(br,{applyAnimatedValues:dr,createAnimatedStyle:t=>new yr(t),getComponentProps:({scrollTop:t,scrollLeft:e,...i})=>i}),Y=wr.animated;const Sr="_container_5t4lw_1",xr="_deck_5t4lw_31",Mt={container:Sr,deck:xr},j=[{url:"https://upload.wikimedia.org/wikipedia/commons/9/9b/RWS_Tarot_07_Chariot.jpg",title:"about",belowTitle:"me",route:"/about-me"},{url:"https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_06_Lovers.jpg",title:"resume",belowTitle:"",route:"/resume"},{url:"https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg",title:"personal",belowTitle:"work",route:"/personal-work"},{url:"https://upload.wikimedia.org/wikipedia/commons/f/f5/RWS_Tarot_08_Strength.jpg",title:"professional",belowTitle:"work",route:"/professional-work"}];let ft=10;const $t=.5,fi=t=>({x:0,y:t*-4,scale:1.5,rot:-10+Math.random()*20,delay:t*100}),kr=t=>({x:0,rot:0,scale:2,y:-1e3}),Ar=(t,e)=>`perspective(1500px) rotateX(30deg) rotateY(${t/10}deg) rotateZ(${t}deg) scale(${e*it*$t})`,Pr=t=>({x:0,title:j[t].title,config:{mass:5,tension:1e3,friction:50,precision:1e-4}}),Tr=t=>({x:0,title:""}),di=t=>({t:0,letter:"",r:Math.random(),config:{mass:5,tension:1e3,friction:50,precision:1e-4}}),hi=t=>({t:0,r:0,letter:""});let Vt=!0;const is="#ff2558",Er=is,pi="#ffffff",mi=is;function Ir({onSwipeRight:t}){const[e]=k.useState(()=>new Set),[i,s]=ht(j.length,l=>({...fi(l),from:kr()})),[n,r]=ht(j.length,l=>({...Pr(l),from:Tr()}));let o=[];j.map(l=>{o.push(ht(l.title.length,h=>({...di(),from:hi()})))});let a=[];j.map(l=>{a.push(ht(l.belowTitle.length,h=>({...di(),from:hi()})))});const[f,u]=ur(()=>({to:{x:1,config:{mass:5,tension:1e3,friction:50,precision:1e-4}},from:{x:0}})),d=tn(({args:[l],down:h,movement:[m],velocity:y})=>{if(!Vt)return;const p=y.length>.2,v=m<0?-1:1;!h&&p&&Math.abs(m)>100*it&&(e.add(l),v>0&&t&&t(l,j[l].url)),s.start(g=>{if(l!==g)return;const w=e.has(l),_=w?(200+window.innerWidth)*v:h?m:0,x=m/100+(w?v*10*y.length:0);return{x:_,rot:x,scale:h?1.75:1.5,delay:void 0,config:{friction:50,tension:h?800:w?200:500}}}),!h&&e.size===j.length&&setTimeout(()=>{e.clear(),s.start(g=>fi(g)),r.start(()=>({x:0,title:""})),u.start(()=>({x:1}))},500)});return O.jsx(O.Fragment,{children:O.jsxs("div",{children:[O.jsx(Y.div,{className:Mt.deck,style:{opacity:f.x.to([0,1],[0,1]),zIndex:0},children:O.jsx(Y.span,{style:{transform:f.x.to(l=>`translate3d(${-150*l*it}px, ${-100*l*it}px, 0px) rotate3d(0, 1, 1, -55deg)`),fontSize:f.x.to([0,1],[0,os*.3*$t]),color:pi,willChange:"transform",opacity:f.x.to([0,1],[0,1])},children:"Swipe"},ft++)},ft++),n.map(({x:l},h)=>O.jsxs(Y.div,{className:Mt.deck,style:{backgroundColor:l.to([0,1],[mi,Er]),color:l.to([0,1],[mi,pi]),opacity:l.to([0,1],[0,1]),zIndex:0},children:[o[h][0].map(({t:m,letter:y,r:p},v)=>O.jsx(Y.span,{style:{transform:m.to(g=>`translate3d(${0*g*it}px, ${window.innerHeight*g*-.3}px, 0px) rotate3d(1, 0, 0, 55deg)rotate3d(0, 0, 1, ${p.get()*5}deg)`),fontSize:m.to([0,1],[0,Math.min(window.innerWidth,window.innerHeight)*.3*$t]),willChange:"transform",opacity:m.to([0,1],[0,1])},children:y},ft++)),a[h][0].map(({t:m,letter:y,r:p},v)=>O.jsx(Y.span,{style:{transform:m.to(g=>`translate3d(${0*g*it}px, ${window.innerHeight*g*.3}px, 0px) rotate3d(1, 0, 0, 55deg)rotate3d(0, 0, 1, ${p.get()*5}deg)`),fontSize:m.to([0,1],[0,Math.min(window.innerWidth,window.innerHeight)*.3*$t]),willChange:"transform",opacity:m.to([0,1],[0,1])},children:y},ft++))]},ft++)),i.map(({x:l,y:h,rot:m,scale:y},p)=>O.jsx(Y.div,{className:Mt.deck,style:{x:l,y:h},children:O.jsx(Y.div,{...d(p),onMouseDown:()=>{Vt&&(r.start(v=>({x:v==p?1:0,title:j[p].title})),o[p][1].start(v=>({t:1,letter:j[p].title[v]})),a[p][1].start(v=>({t:1,letter:j[p].belowTitle[v]})),u.start(()=>({x:0})))},onMouseUp:()=>{r.start(()=>({x:0,title:""})),o[p][1].start(()=>({t:0,letter:""})),a[p][1].start(()=>({t:0,letter:""})),u.start(()=>({x:1})),Vt=!1,setTimeout(()=>{Vt=!0},100)},style:{transform:lr([m,y],Ar),backgroundImage:`url(${j[p].url})`,touchAction:"auto",backgroundColor:"white",backgroundSize:"auto 85%",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"60%",maxWidth:"150px",maxHeight:"285px",aspectRatio:"45 / 85",willChange:"transform",borderRadius:"10px",boxShadow:"0 12.5px 100px -10px rgba(255, 255, 255, 0.1), 0 10px 10px -10px rgba(255, 255, 255, 0.05)",zIndex:0}})},p))]})})}function Dr({navigate:t}){const e=(i,s)=>{console.log(`Liked card ${i} with url ${s}!`),setTimeout(()=>{t(j[i].route,{state:{cardIndex:i,cardUrl:s,action:"liked"}})},100)};return O.jsxs("div",{className:Mt.container,children:[O.jsx(rs,{children:void 0}),O.jsx(Ir,{onSwipeRight:e},Math.random())]})}export{Dr as default};
